/**
 * angular-growl-v2 - v0.5.3 - 2014-04-03
 * http://janstevens.github.io/angular-growl-2
 * Copyright (c) 2014 Marco Rinck,Jan Stevens; Licensed MIT
 */
angular.module("angular-growl",[]),angular.module("angular-growl").directive("growl",["$rootScope","$sce",function(a,b){"use strict";return{restrict:"A",template:'<div ng-class="{growl: !inlineMessage}"> <div class="growl-item alert" ng-repeat="message in messages" ng-class="computeClasses(message)">   <button type="button" class="close" ng-click="deleteMessage(message)" ng-show="!message.disableCloseButton">&times;</button>       <div ng-switch="message.enableHtml">           <div ng-switch-when="true" ng-bind-html="message.text"></div>           <div ng-switch-default ng-bind="message.text"></div>       </div> </div></div>',replace:!1,scope:{reference:"@",inline:"@"},controller:["$scope","$timeout","growl",function(c,d,e){function f(a){a.enableHtml&&(a.text=b.trustAsHtml(a.text)),c.messages.push(a),a.ttl&&-1!==a.ttl&&d(function(){c.deleteMessage(a)},a.ttl)}var g=e.onlyUnique();c.messages=[];var h=c.reference||0;c.inlineMessage=c.inline||e.inlineMessages(),a.$on("growlMessage",function(a,b){var d;parseInt(h,10)===parseInt(b.referenceId,10)&&(g?(angular.forEach(c.messages,function(a){b.text===a.text&&b.severity===a.severity&&(d=!0)}),d||f(b)):f(b))}),c.deleteMessage=function(a){var b=c.messages.indexOf(a);b>-1&&c.messages.splice(b,1)},c.computeClasses=function(a){return{"alert-success":"success"===a.severity,"alert-error":"error"===a.severity,"alert-danger":"error"===a.severity,"alert-info":"info"===a.severity,"alert-warning":"warn"===a.severity}}}]}}]),angular.module("angular-growl").provider("growl",function(){"use strict";var a={success:null,error:null,warning:null,info:null},b=!1,c="messages",d="text",e="severity",f=!0,g="variables",h=0,i=!1,j=!1;this.globalTimeToLive=function(b){if("object"==typeof b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);else for(var d in a)a.hasOwnProperty(d)&&(a[d]=b)},this.globalEnableHtml=function(a){b=a},this.globalDisableCloseButton=function(a){j=a},this.messageVariableKey=function(a){g=a},this.globalInlineMessages=function(a){i=a},this.messagesKey=function(a){c=a},this.messageTextKey=function(a){d=a},this.messageSeverityKey=function(a){e=a},this.onlyUniqueMessages=function(a){f=a},this.serverMessagesInterceptor=["$q","growl",function(a,b){function d(a){a.data[c]&&a.data[c].length>0&&b.addServerMessages(a.data[c])}function e(a){return d(a),a}function f(b){return d(b),a.reject(b)}return function(a){return a.then(e,f)}}],this.$get=["$rootScope","$filter",function(c,k){function l(a){u&&(a.text=u(a.text,a.variables)),c.$broadcast("growlMessage",a)}function m(c,d,e){var f,g=d||{};f={text:c,severity:e,ttl:g.ttl||a[e],enableHtml:g.enableHtml||b,variables:g.variables||{},disableCloseButton:g.disableCloseButton||j,referenceId:g.referenceId||h},l(f)}function n(a,b){m(a,b,"warn")}function o(a,b){m(a,b,"error")}function p(a,b){m(a,b,"info")}function q(a,b){m(a,b,"success")}function r(a){var b,c,f,h;for(h=a.length,b=0;h>b;b++)if(c=a[b],c[d]){if(c[e])switch(c[e]){case"warn":f="warn";break;case"success":f="success";break;case"info":f="info";break;case"error":f="error"}else f="error";var i={};i.variables=c[g]||{},m(c[d],i,f)}}function s(){return f}function t(){return i}var u;try{u=k("translate")}catch(v){}return{warning:n,error:o,info:p,success:q,addServerMessages:r,onlyUnique:s,inlineMessages:t}}]});